import S3Event from './s3_event';
import KinesisEvent from './kinesis_event';

export default class EventRegistry {
  constructor() {
    this.events = {
      S3Event,
      KinesisEvent
    };
  }

  eventFor(className, opts) {
    if (this.events[className]) {
      return new this.events[className](opts);
    } else {
      throw "No event registered with name '" + className + '"';
    }
  }

  register(className) {
    if (className || typeof className != "Object") {
      this.events[className.name] = className;
    } else {
      throw "Empty or null event class given";
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ldmVudC9ldmVudF9yZWdpc3RyeS5qcyJdLCJuYW1lcyI6WyJTM0V2ZW50IiwiS2luZXNpc0V2ZW50IiwiRXZlbnRSZWdpc3RyeSIsImNvbnN0cnVjdG9yIiwiZXZlbnRzIiwiZXZlbnRGb3IiLCJjbGFzc05hbWUiLCJvcHRzIiwicmVnaXN0ZXIiLCJuYW1lIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxPQUFQLE1BQW9CLFlBQXBCO0FBQ0EsT0FBT0MsWUFBUCxNQUF5QixpQkFBekI7O0FBRUEsZUFBZSxNQUFNQyxhQUFOLENBQW9CO0FBQ2pDQyxnQkFBYztBQUNaLFNBQUtDLE1BQUwsR0FBYztBQUNaSixhQURZO0FBRVpDO0FBRlksS0FBZDtBQUlEOztBQUVESSxXQUFTQyxTQUFULEVBQW9CQyxJQUFwQixFQUEwQjtBQUN4QixRQUFJLEtBQUtILE1BQUwsQ0FBWUUsU0FBWixDQUFKLEVBQTRCO0FBQzFCLGFBQU8sSUFBSSxLQUFLRixNQUFMLENBQVlFLFNBQVosQ0FBSixDQUEyQkMsSUFBM0IsQ0FBUDtBQUNELEtBRkQsTUFFTztBQUNMLFlBQU0sb0NBQW9DRCxTQUFwQyxHQUFnRCxHQUF0RDtBQUNEO0FBQ0Y7O0FBRURFLFdBQVNGLFNBQVQsRUFBb0I7QUFDbEIsUUFBSUEsYUFBYSxPQUFPQSxTQUFQLElBQW9CLFFBQXJDLEVBQStDO0FBQzdDLFdBQUtGLE1BQUwsQ0FBWUUsVUFBVUcsSUFBdEIsSUFBOEJILFNBQTlCO0FBQ0QsS0FGRCxNQUdLO0FBQ0gsWUFBTSxpQ0FBTjtBQUNEO0FBQ0Y7QUF2QmdDIiwiZmlsZSI6ImV2ZW50X3JlZ2lzdHJ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFMzRXZlbnQgZnJvbSAnLi9zM19ldmVudCc7XG5pbXBvcnQgS2luZXNpc0V2ZW50IGZyb20gJy4va2luZXNpc19ldmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50UmVnaXN0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50cyA9IHtcbiAgICAgIFMzRXZlbnQsXG4gICAgICBLaW5lc2lzRXZlbnRcbiAgICB9XG4gIH1cblxuICBldmVudEZvcihjbGFzc05hbWUsIG9wdHMpIHtcbiAgICBpZiAodGhpcy5ldmVudHNbY2xhc3NOYW1lXSkge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmV2ZW50c1tjbGFzc05hbWVdKG9wdHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcIk5vIGV2ZW50IHJlZ2lzdGVyZWQgd2l0aCBuYW1lICdcIiArIGNsYXNzTmFtZSArICdcIidcbiAgICB9XG4gIH1cblxuICByZWdpc3RlcihjbGFzc05hbWUpIHtcbiAgICBpZiAoY2xhc3NOYW1lIHx8IHR5cGVvZiBjbGFzc05hbWUgIT0gXCJPYmplY3RcIikge1xuICAgICAgdGhpcy5ldmVudHNbY2xhc3NOYW1lLm5hbWVdID0gY2xhc3NOYW1lO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRocm93IFwiRW1wdHkgb3IgbnVsbCBldmVudCBjbGFzcyBnaXZlblwiXG4gICAgfVxuICB9XG59Il19